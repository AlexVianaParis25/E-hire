{% extends "global/base.html" %}
{% load static %}

{% block extra_css %}
    <link rel="stylesheet" href="{% static 'global/utils_css/redefinir_senha.css' %}">
{% endblock %}


{% block title %}
    E-Hire - Redefinir Senha
{% endblock %}

{% block button_action %}
    <a href="{% url 'business:index' %}" class="login">Inicio</a>
    <a href="{% url 'business:login' %}" class="login">login</a>
    <a href="{% url 'business:cadastro_empresa' %}" class="signup">Cadastre-se</a>
{% endblock%}



{% block content %}
    <div class="password-reset-wrapper">
        <div class="password-reset-container">
            <div class="logo">
                <img src="{% static "global/images/e-HIRE.png" %}" alt="Logo da Empresa">
            </div>
            
            <h1>Redefinir Senha</h1>
            
            <div class="step-indicator">
                <div class="step active" id="step1-indicator">
                    <div class="step-number">1</div>
                    <div class="step-text">Verificar E-mail</div>
                </div>
                <div class="step" id="step2-indicator">
                    <div class="step-number">2</div>
                    <div class="step-text">Validar Código</div>
                </div>
                <div class="step" id="step3-indicator">
                    <div class="step-number">3</div>
                    <div class="step-text">Nova Senha</div>
                </div>
            </div>
            
            <div class="message" id="message"></div>
            
            <!-- Passo 1: Inserir e-mail -->
            <div class="form-step active" id="step1">
                <div class="form-group">
                    <label for="email">E-mail Corporativo</label>
                    <div class="input-with-button">
                        <input type="email" id="email" placeholder="seu.email@empresa.com">
                        <button id="send-code-btn">Enviar Código</button>
                    </div>
                </div>
            </div>
            
            <!-- Passo 2: Inserir código -->
            <div class="form-step" id="step2">
                <div class="form-group">
                    <label for="verification-code">Código de Verificação</label>
                    <input type="text" id="verification-code" placeholder="Digite o código recebido por e-mail">
                    <p style="font-size: 13px; color: #777; margin-top: 5px;">Enviamos um código para <span id="email-display"></span></p>
                </div>
                <div class="form-group">
                    <button class="submit-btn" id="verify-code-btn">Verificar Código</button>
                    <p style="text-align: center; margin-top: 10px; font-size: 13px;">
                        Não recebeu o código? <a href="#" id="resend-code" style="color: var(--secondary-color);">Reenviar</a>
                    </p>
                </div>
            </div>
            
            <!-- Passo 3: Nova senha -->
            <div class="form-step" id="step3">
                <div class="form-group">
                    <label for="new-password">Nova Senha</label>
                    <input type="password" id="new-password" placeholder="Digite sua nova senha">
                    <div class="password-strength">
                        <div class="password-strength-bar" id="password-strength-bar"></div>
                    </div>
                    <p style="font-size: 13px; color: #777; margin-top: 5px;">A senha deve conter pelo menos 8 caracteres, incluindo números e letras.</p>
                </div>
                <div class="form-group">
                    <label for="confirm-password">Confirmar Nova Senha</label>
                    <input type="password" id="confirm-password" placeholder="Digite novamente sua nova senha">
                </div>
                <div class="form-group">
                    <button class="submit-btn" id="submit-new-password">Concluir</button>
                </div>
            </div>
        </div>
    </div>
{% endblock%}



{% block script %}
<script>
const loginUrl = "{% url 'business:login' %}"; 
</script>
<script src="{% static 'global/utils_js/redefinir_senha.js' %}"></script>       
{% endblock script %}