{% load static %}

<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>E-hire - nova solicita√ß√£o</title>
    <link rel="stylesheet" href="{% static 'global/utils_css/create_solicitacao.css' %}">
  </head>
  <body>
    <header>
      <div class="navbar">
        <div class="logo">
          <img src="{% static 'global/images/e-HIRE.png' %}" alt="Logo da E-Hire">
        </div>
        <nav class="nav-links">
          <a href="#" class="nav-link active" data-section="negotiations">
            <!-- SVG √çcone -->
            Negocia√ß√µes
          </a>
        </nav>
        <div class="auth-buttons">
          <a href="{% url 'business:ver_perfil' %}" class="btn btn-outline" id="logoutBtn">
            perfil
          </a>

          <a href="{% url 'business:servicos' %}" class="btn btn-outline">voltar</a>
        </div>
      </div>
    </header>

    <main class="container">
      <section id="negotiations" class="section active">
        <div id="new-negotiation">
          <div class="dashboard-header">
            <div>
              <h1 class="dashboard-title">Nova Solicita√ß√£o</h1>
              <p class="dashboard-subtitle">
                Cadastre uma nova solicita√ß√£o de servi√ßo para empresas parceiras
              </p>
            </div>
          </div>

          <div class="service-form-container">
            <h2 class="form-title">Informa√ß√µes da Solicita√ß√£o</h2>

            <!-- Corre√ß√£o: form aberto aqui -->
            <form action="" method ="POST">
              {% csrf_token %}
              <div class="form-grid">
                <div class="form-group">
                  <label class="form-label">T√≠tulo do Servi√ßo *</label>
                  {{form.titulo}}
                  {{form.titulo.errors}} 
                </div>

                <div class="form-group">
                  <label class="form-label">Categoria *</label>
                  {{form.categoria}}
                  {{form.categoria.errors}}   
                </div>

                <div class="form-group">
                  <label class="form-label">Or√ßamento Estimado</label>
                  {{form.preco_estimado}}
                  {{form.preco_estimado.errors}} 
                </div>

                <div class="form-group">
                  <label class="form-label">Prazo Desejado (m√°ximo)</label>
                  {{form.prazo_estimado}}
                  {{form.prazo_estimado.errors}} 
                </div>

                <div class="form-group full-width">
                  <label class="form-label">Descri√ß√£o R√°pida *</label>
                  {{form.descricao_rapida}}
                  {{form.descricao_rapida.errors}} 
                </div>

                <div class="form-group full-width">
                  <label class="form-label">Descri√ß√£o Detalhada *</label>
                  {{form.descricao_detalhada}}
                  {{form.descricao_detalhada.errors}} 
                </div>
              </div>

              <div class="form-actions">
                <button type="button" class="btn btn-cancel" id="cancelBtn">Cancelar</button>
                <button type="submit" class="btn btn-primary" id="submitRequestBtn">Enviar Solicita√ß√£o</button>
              </div>
            </form>
            <!-- form fechado corretamente aqui -->
          </div>
        </div>

        <!-- Se√ß√£o de Solicita√ß√µes Cadastradas -->
        <div id="requests-section" style="margin-top: 4rem">
          <div class="dashboard-header">
            <div>
              <h1 class="dashboard-title">Minhas Solicita√ß√µes</h1>
              <p class="dashboard-subtitle">
                Visualize e gerencie todas as suas solicita√ß√µes de servi√ßo
              </p>
            </div>
          </div>

          <div class="tabs">
            <div class="tab active">Todas</div>
            <div class="tab">Ativas</div>
            <div class="tab">Conclu√≠das</div>
          </div>

          <div class="requests-container">
            <div class="requests-list" id="requestsList">
              <div class="empty-state">
                <div class="empty-state-icon">üì≠</div>
                <h3>Nenhuma solicita√ß√£o encontrada</h3>
                <p>Voc√™ ainda n√£o cadastrou nenhuma solicita√ß√£o de servi√ßo.</p>
              </div>
            </div>
          </div>
        </div>
      </section>
    </main>
  </body>
</html>
